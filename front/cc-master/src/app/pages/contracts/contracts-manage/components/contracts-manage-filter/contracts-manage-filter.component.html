<form [formGroup]="filtersFormGroup" class="grid u-flexGrow1">
  <div class="grid-lg10 u-displayFlex u-flexWrapWrap">
    <label class="textfield mod-search palette-grey mod-outlined mod-inline mod-long u-marginTopSmallest">
      <input class="textfield-input" type="text" [placeholder]="'front_filterLabel_contractSearch' | translate"
             [formControlName]="filterKey.Name">
    </label>

    <cc-distributor-filter-button-group radioButtonsClass="palette-grey mod-outlined u-marginRightSmallest u-marginTopSmallest"
                                        [formControlName]="filterKey.IsDirectSales">
    </cc-distributor-filter-button-group>

    <cc-client-api-select [formControlName]="filterKey.Clients" [displayMode]="selectMode.Filter" [multiple]="true"
                          textfieldClass="palette-grey mod-outlined mod-inline u-marginTopSmallest">
    </cc-client-api-select>

    <cc-distributor-api-select [formControlName]="filterKey.Distributors" [displayMode]="selectMode.Filter"
                               [multiple]="true" textfieldClass="palette-grey mod-outlined mod-inline u-marginTopSmallest">
    </cc-distributor-api-select>
  </div>

  <div class="grid-lg2 u-textRight u-marginTopSmallest">
    <button class="button mod-outline palette-grey mod-icon" (click)="toggleMoreFiltersDisplay()">
      <span aria-hidden="true" class="button-icon lucca-icon icon-filterAbstract"></span>
      {{ "front_contractPage_moreFiltersButton_label" | translate }}
      <span class="label mod-number u-animatedScaleIn" *ngIf="hasAdditionalFiltersSelected()">
      {{ getAdditionalFiltersKeySelected().length }}
    </span>
    </button>
  </div>

  <div class="grid-lg12 u-displayFlex u-flexWrapWrap" *ngIf="showAdditionalFilters">
    <cc-product-api-select [formControlName]="filterKey.Products" [displayMode]="selectMode.Filter"
                           [multiple]="true" textfieldClass="palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
    </cc-product-api-select>

    <label class="textfield palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
      <cc-offer-api-select [formControlName]="filterKey.Offers"
                           [placeholder]="'offers_select_label' | translate"
                           [multiple]="true">
      </cc-offer-api-select>
    </label>

    <label class="textfield palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
      <cc-environment-api-select [placeholder]="'front_select_environments_label' | translate"
                                 [multiple]="true"
                                 [formControlName]="filterKey.Environments">
      </cc-environment-api-select>
    </label>

    <cc-contract-state-select [formControlName]="filterKey.States"
                              textfieldClass="palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
    </cc-contract-state-select>

    <label class="textfield palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
      <lu-date-select class="textfield-input"
                      [placeholder]="'front_filterLabel_createdAt' | translate"
                      granularity="month"
                      [formControlName]="filterKey.CreatedAt">
      </lu-date-select>
    </label>

    <cc-date-range-select [formControlName]="filterKey.PeriodOn" [configuration]="dateRangeConfiguration"
                          datesClass="u-displayFlex u-flexWrapWrap u-marginTopSmaller mod-long" >
    </cc-date-range-select>

    <cc-establishment-api-select [formControlName]="filterKey.Establishments" [displayMode]="selectMode.Filter"
                                 [multiple]="true" textfieldClass="palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
    </cc-establishment-api-select>

    <cc-establishment-health-select [formControlName]="filterKey.EstablishmentHealth"
                                    textfieldClass="palette-grey mod-outlined mod-inline u-marginTopSmaller mod-long">
    </cc-establishment-health-select>
  </div>
</form>
