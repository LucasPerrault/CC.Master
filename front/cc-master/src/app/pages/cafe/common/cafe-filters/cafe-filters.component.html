<form [formGroup]="formGroup" (blur)="onTouch()">
  <div class="u-displayFlex u-flexShrink0 u-flexGrow1">
    <cc-category-filter [categories]="categories" [formControlName]="formKey.Category"></cc-category-filter>

    <button class="button palette-grey mod-outlined mod-counter u-marginLeftAuto"
            *ngIf="hasSelectedConfiguration$ | async"
            (click)="toggleAdvancedFiltersDisplay()">
      {{ 'cafe_filters_button_label' | translate }}
      <span class="button-counter">{{ filtersCount }}</span>
    </button>
  </div>

  <cc-advanced-filter-form *ngIf="hasSelectedConfiguration$ | async"
                           class="u-marginTopSmaller"
                           [ngClass]="{ 'mod-hidden': !showAdvancedFilters }"
                           [formControlName]="formKey.AdvancedFilterForm"
                           [configuration]="selectedConfiguration$ | async"
                           (cancel)="toggleAdvancedFiltersDisplay()">
  </cc-advanced-filter-form>
</form>

